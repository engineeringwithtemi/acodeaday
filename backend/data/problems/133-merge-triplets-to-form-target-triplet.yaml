title: Merge Triplets to Form Target Triplet
sequence_number: 133
difficulty: medium
pattern:
  - greedy
  - array

description: |
  A **triplet** is an array of three integers. You are given a 2D integer array `triplets`, where `triplets[i] = [ai, bi, ci]` describes the `ith` **triplet**. You are also given an integer array `target = [x, y, z]` that describes the **triplet** you want to obtain.

  To obtain `target`, you may apply the following operation on `triplets` **any number** of times (possibly **zero**):
  - Choose two indices (0-indexed) `i` and `j` (`i != j`) and **update** `triplets[j]` to become `[max(ai, aj), max(bi, bj), max(ci, cj)]`.
    - For example, if `triplets[i] = [2, 5, 3]` and `triplets[j] = [1, 7, 5]`, `triplets[j]` will be updated to `[max(2, 1), max(5, 7), max(3, 5)] = [2, 7, 5]`.

  Return `true` if it is possible to obtain the `target` **triplet** `[x, y, z]` as an **element** of `triplets`, or `false` otherwise.

constraints:
  - "1 <= triplets.length <= 10^5"
  - "triplets[i].length == target.length == 3"
  - "1 <= ai, bi, ci, x, y, z <= 1000"

examples:
  - input: "triplets = [[2,5,3],[1,8,4],[1,7,5]], target = [2,7,5]"
    output: "true"
  - input: "triplets = [[3,4,5],[4,5,6]], target = [3,2,5]"
    output: "false"
  - input: "triplets = [[2,5,3],[2,3,4],[1,2,5],[5,2,3]], target = [5,5,5]"
    output: "true"

languages:
  python:
    starter_code: |
      class Solution:
          def mergeTriplets(self, triplets: List[List[int]], target: List[int]) -> bool:
              pass
    reference_solution: |
      class Solution:
          def mergeTriplets(self, triplets: List[List[int]], target: List[int]) -> bool:
              good = set()

              for t in triplets:
                  # Skip triplets that would make any element exceed target
                  if t[0] > target[0] or t[1] > target[1] or t[2] > target[2]:
                      continue

                  # Mark which target elements this triplet can contribute
                  for i, val in enumerate(t):
                      if val == target[i]:
                          good.add(i)

              return len(good) == 3
    function_signature:
      name: mergeTriplets
      params:
        - name: triplets
          type: "List[List[int]]"
        - name: target
          type: "List[int]"
      return_type: bool

test_cases:
  - input: [[[2,5,3],[1,8,4],[1,7,5]], [2,7,5]]
    expected: true
  - input: [[[3,4,5],[4,5,6]], [3,2,5]]
    expected: false
  - input: [[[2,5,3],[2,3,4],[1,2,5],[5,2,3]], [5,5,5]]
    expected: true
  - input: [[[1,1,1]], [1,1,1]]
    expected: true
  - input: [[[1,2,3]], [1,2,3]]
    expected: true
  - input: [[[1,2,3]], [3,2,1]]
    expected: false
  - input: [[[1,1,1],[2,2,2],[3,3,3]], [3,3,3]]
    expected: true
  - input: [[[3,1,1],[1,3,1],[1,1,3]], [3,3,3]]
    expected: true
  - input: [[[2,2,2],[3,3,3]], [2,3,2]]
    expected: false
  - input: [[[1,3,2],[2,1,3],[3,2,1]], [3,3,3]]
    expected: true
  - input: [[[5,5,5],[1,1,1]], [2,2,2]]
    expected: false
