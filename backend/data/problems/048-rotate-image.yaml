title: Rotate Image
sequence_number: 48
difficulty: medium
pattern:
  - matrix
  - in-place

description: |
  You are given an `n x n` 2D `matrix` representing an image, rotate the image by **90 degrees** (clockwise).

  You have to rotate the image **in-place**, which means you have to modify the input 2D matrix directly. **DO NOT** allocate another 2D matrix and do the rotation.

constraints:
  - "n == matrix.length == matrix[i].length"
  - "1 <= n <= 20"
  - "-1000 <= matrix[i][j] <= 1000"

examples:
  - input: "matrix = [[1,2,3],[4,5,6],[7,8,9]]"
    output: "[[7,4,1],[8,5,2],[9,6,3]]"
  - input: "matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]"
    output: "[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]"

languages:
  python:
    starter_code: |
      class Solution:
          def rotate(self, matrix: List[List[int]]) -> List[List[int]]:
              pass
    reference_solution: |
      class Solution:
          def rotate(self, matrix: List[List[int]]) -> List[List[int]]:
              n = len(matrix)

              # Transpose the matrix
              for i in range(n):
                  for j in range(i + 1, n):
                      matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]

              # Reverse each row
              for i in range(n):
                  matrix[i].reverse()

              return matrix
    function_signature:
      name: rotate
      params:
        - name: matrix
          type: "List[List[int]]"
      return_type: "List[List[int]]"

test_cases:
  - input: [[[1, 2, 3], [4, 5, 6], [7, 8, 9]]]
    expected: [[7, 4, 1], [8, 5, 2], [9, 6, 3]]
  - input: [[[5, 1, 9, 11], [2, 4, 8, 10], [13, 3, 6, 7], [15, 14, 12, 16]]]
    expected: [[15, 13, 2, 5], [14, 3, 4, 1], [12, 6, 8, 9], [16, 7, 10, 11]]
  - input: [[[1]]]
    expected: [[1]]
  - input: [[[1, 2], [3, 4]]]
    expected: [[3, 1], [4, 2]]
  - input: [[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]]]
    expected: [[13, 9, 5, 1], [14, 10, 6, 2], [15, 11, 7, 3], [16, 12, 8, 4]]
  - input: [[[-1, -2], [-3, -4]]]
    expected: [[-3, -1], [-4, -2]]
  - input: [[[0, 0], [0, 0]]]
    expected: [[0, 0], [0, 0]]
  - input: [[[1, 0], [0, 1]]]
    expected: [[0, 1], [1, 0]]
  - input: [[[1, 1, 1], [2, 2, 2], [3, 3, 3]]]
    expected: [[3, 2, 1], [3, 2, 1], [3, 2, 1]]
  - input: [[[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11, 12, 13, 14, 15], [16, 17, 18, 19, 20], [21, 22, 23, 24, 25]]]
    expected: [[21, 16, 11, 6, 1], [22, 17, 12, 7, 2], [23, 18, 13, 8, 3], [24, 19, 14, 9, 4], [25, 20, 15, 10, 5]]
  - input: [[[100, 200, 300], [400, 500, 600], [700, 800, 900]]]
    expected: [[700, 400, 100], [800, 500, 200], [900, 600, 300]]
  - input: [[[-1000, 1000], [-1000, 1000]]]
    expected: [[-1000, -1000], [1000, 1000]]
  - input: [[[9, 8, 7], [6, 5, 4], [3, 2, 1]]]
    expected: [[3, 6, 9], [2, 5, 8], [1, 4, 7]]
  - input: [[[1, 2, 3], [1, 2, 3], [1, 2, 3]]]
    expected: [[1, 1, 1], [2, 2, 2], [3, 3, 3]]
  - input: [[[0]]]
    expected: [[0]]
