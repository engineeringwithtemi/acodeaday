title: Counting Bits
sequence_number: 13
difficulty: easy
pattern:
  - bit-manipulation
  - dynamic-programming
  - counting
  - binary

description: |
  Given an integer `n`, return an array `ans` of length `n + 1` such that for each `i` (`0 <= i <= n`), `ans[i]` is the **number of `1`'s** in the binary representation of `i`.

constraints:
  - "0 <= n <= 10^5"

examples:
  - input: "n = 2"
    output: "[0,1,1]"
    explanation: "0 --> 0, 1 --> 1, 2 --> 10"
  - input: "n = 5"
    output: "[0,1,1,2,1,2]"
    explanation: "0 --> 0, 1 --> 1, 2 --> 10, 3 --> 11, 4 --> 100, 5 --> 101"

languages:
  python:
    starter_code: |
      class Solution:
          def countBits(self, n: int) -> List[int]:
              pass
    reference_solution: |
      class Solution:
          def countBits(self, n: int) -> List[int]:
              # dp[i] = dp[i >> 1] + (i & 1)
              # i >> 1 removes the last bit, i & 1 checks if last bit is 1
              dp = [0] * (n + 1)
              for i in range(1, n + 1):
                  dp[i] = dp[i >> 1] + (i & 1)
              return dp
    function_signature:
      name: countBits
      params:
        - name: n
          type: int
      return_type: "List[int]"

test_cases:
  - input: [2]
    expected: [0, 1, 1]
  - input: [5]
    expected: [0, 1, 1, 2, 1, 2]
  - input: [0]
    expected: [0]
  - input: [1]
    expected: [0, 1]
  - input: [10]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2]
  - input: [3]
    expected: [0, 1, 1, 2]
  - input: [4]
    expected: [0, 1, 1, 2, 1]
  - input: [6]
    expected: [0, 1, 1, 2, 1, 2, 2]
  - input: [7]
    expected: [0, 1, 1, 2, 1, 2, 2, 3]
  - input: [8]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1]
  - input: [9]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2]
  - input: [11]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3]
  - input: [12]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2]
  - input: [13]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3]
  - input: [14]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3]
  - input: [15]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4]
  - input: [16]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1]
  - input: [17]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2]
  - input: [18]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2]
  - input: [19]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3]
  - input: [20]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2]
  - input: [25]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2, 3, 3, 4, 2, 3]
  - input: [30]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4]
  - input: [31]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5]
  - input: [32]
    expected: [0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 1]
