title: House Robber II
sequence_number: 23
difficulty: medium
pattern:
  - dynamic-programming
  - circular-array
  - linear-dp

description: |
  You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed. All houses at this place are **arranged in a circle**. That means the first house is the neighbor of the last one. Meanwhile, adjacent houses have a security system connected, and **it will automatically contact the police if two adjacent houses were broken into on the same night**.

  Given an integer array `nums` representing the amount of money of each house, return the maximum amount of money you can rob tonight **without alerting the police**.

constraints:
  - "1 <= nums.length <= 100"
  - "0 <= nums[i] <= 1000"

examples:
  - input: "nums = [2,3,2]"
    output: "3"
    explanation: "You cannot rob house 1 (money = 2) and then rob house 3 (money = 2), because they are adjacent houses."
  - input: "nums = [1,2,3,1]"
    output: "4"
    explanation: "Rob house 1 (money = 1) and then rob house 3 (money = 3). Total amount you can rob = 1 + 3 = 4."
  - input: "nums = [1,2,3]"
    output: "3"

languages:
  python:
    starter_code: |
      class Solution:
          def rob(self, nums: List[int]) -> int:
              pass
    reference_solution: |
      class Solution:
          def rob(self, nums: List[int]) -> int:
              if len(nums) == 1:
                  return nums[0]
              if len(nums) == 2:
                  return max(nums)

              def rob_linear(houses):
                  prev2, prev1 = 0, 0
                  for money in houses:
                      curr = max(prev1, prev2 + money)
                      prev2, prev1 = prev1, curr
                  return prev1

              # Either rob houses 0 to n-2, or 1 to n-1
              return max(rob_linear(nums[:-1]), rob_linear(nums[1:]))
    function_signature:
      name: rob
      params:
        - name: nums
          type: "List[int]"
      return_type: int

test_cases:
  - input: [[2, 3, 2]]
    expected: 3
  - input: [[1, 2, 3, 1]]
    expected: 4
  - input: [[1, 2, 3]]
    expected: 3
  - input: [[1]]
    expected: 1
  - input: [[1, 2]]
    expected: 2
  - input: [[2, 1]]
    expected: 2
  - input: [[0]]
    expected: 0
  - input: [[0, 0]]
    expected: 0
  - input: [[1, 1, 1]]
    expected: 1
  - input: [[200, 3, 140, 20, 10]]
    expected: 340
  - input: [[1, 3, 1, 3, 100]]
    expected: 103
  - input: [[1, 2, 1, 1]]
    expected: 3
  - input: [[2, 2, 4, 3, 2, 5]]
    expected: 10
  - input: [[1, 2, 3, 4, 5, 1, 2, 3, 4, 5]]
    expected: 16
  - input: [[6, 6, 4, 8, 4, 3, 3, 10]]
    expected: 27
  - input: [[4, 1, 2, 7, 5, 3, 1]]
    expected: 14
  - input: [[1, 1, 1, 1, 1]]
    expected: 2
  - input: [[5, 5, 5, 5]]
    expected: 10
  - input: [[10, 1, 1, 10]]
    expected: 11
  - input: [[10, 1, 1, 10, 1]]
    expected: 20
  - input: [[94, 40, 49, 65, 21, 21, 106, 80, 92, 81, 679, 4, 61, 6, 237, 12, 72, 74, 29, 95, 265, 35, 47, 1, 61, 397]]
    expected: 2090
  - input: [[100, 200]]
    expected: 200
  - input: [[100, 200, 100]]
    expected: 200
  - input: [[100, 1, 100, 1, 100]]
    expected: 200
  - input: [[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]
    expected: 30
