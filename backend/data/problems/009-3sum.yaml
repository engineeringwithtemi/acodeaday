title: 3Sum
sequence_number: 9
difficulty: medium
pattern:
  - two-pointers
  - arrays
  - sorting
  - deduplication

description: |
  Given an integer array `nums`, return all the triplets `[nums[i], nums[j], nums[k]]` such that `i != j`, `i != k`, and `j != k`, and `nums[i] + nums[j] + nums[k] == 0`.

  Notice that the solution set must not contain duplicate triplets.

constraints:
  - "3 <= nums.length <= 3000"
  - "-10^5 <= nums[i] <= 10^5"

examples:
  - input: "nums = [-1,0,1,2,-1,-4]"
    output: "[[-1,-1,2],[-1,0,1]]"
    explanation: "nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0. nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0. nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0. The distinct triplets are [-1,0,1] and [-1,-1,2]."
  - input: "nums = [0,1,1]"
    output: "[]"
    explanation: "The only possible triplet does not sum up to 0."
  - input: "nums = [0,0,0]"
    output: "[[0,0,0]]"
    explanation: "The only possible triplet sums up to 0."

languages:
  python:
    starter_code: |
      class Solution:
          def threeSum(self, nums: List[int]) -> List[List[int]]:
              pass
    reference_solution: |
      class Solution:
          def threeSum(self, nums: List[int]) -> List[List[int]]:
              nums.sort()
              result = []
              n = len(nums)

              for i in range(n - 2):
                  # Skip duplicates for the first element
                  if i > 0 and nums[i] == nums[i - 1]:
                      continue

                  left, right = i + 1, n - 1

                  while left < right:
                      total = nums[i] + nums[left] + nums[right]

                      if total == 0:
                          result.append([nums[i], nums[left], nums[right]])
                          # Skip duplicates
                          while left < right and nums[left] == nums[left + 1]:
                              left += 1
                          while left < right and nums[right] == nums[right - 1]:
                              right -= 1
                          left += 1
                          right -= 1
                      elif total < 0:
                          left += 1
                      else:
                          right -= 1

              return result
    function_signature:
      name: threeSum
      params:
        - name: nums
          type: "List[int]"
      return_type: "List[List[int]]"

test_cases:
  - input: [[-1, 0, 1, 2, -1, -4]]
    expected: [[-1, -1, 2], [-1, 0, 1]]
  - input: [[0, 1, 1]]
    expected: []
  - input: [[0, 0, 0]]
    expected: [[0, 0, 0]]
  - input: [[0, 0, 0, 0]]
    expected: [[0, 0, 0]]
  - input: [[-2, 0, 1, 1, 2]]
    expected: [[-2, 0, 2], [-2, 1, 1]]
  - input: [[-3, 1, 2]]
    expected: [[-3, 1, 2]]
  - input: [[1, 2, 3]]
    expected: []
  - input: [[-1, -1, 2]]
    expected: [[-1, -1, 2]]
  - input: [[0, 0, 0, 0, 0]]
    expected: [[0, 0, 0]]
  - input: [[1, 2, 3, 4, 5]]
    expected: []
  - input: [[-5, -4, -3, -2, -1]]
    expected: []
  - input: [[-1, 0, 1]]
    expected: [[-1, 0, 1]]
  - input: [[-4, -2, -1, 0, 1, 2, 3]]
    expected: [[-4, 1, 3], [-2, -1, 3], [-2, 0, 2], [-1, 0, 1]]
  - input: [[-1, -1, -1, 2]]
    expected: [[-1, -1, 2]]
  - input: [[-2, 1, 1]]
    expected: [[-2, 1, 1]]
  - input: [[-2, -1, 0, 1, 2, 3]]
    expected: [[-2, -1, 3], [-2, 0, 2], [-1, 0, 1]]
  - input: [[-4, -2, -2, -2, 0, 1, 2, 2, 2, 3, 3, 4, 4, 6, 6]]
    expected: [[-4, -2, 6], [-4, 0, 4], [-4, 1, 3], [-4, 2, 2], [-2, -2, 4], [-2, 0, 2]]
  - input: [[-2, -1, 0, 1, 2]]
    expected: [[-2, 0, 2], [-1, 0, 1]]
  - input: [[-5, 0, 5]]
    expected: [[-5, 0, 5]]
  - input: [[-5, -5, 10]]
    expected: [[-5, -5, 10]]
  - input: [[-1, -1, -1, 0, 1, 1, 1]]
    expected: [[-1, 0, 1]]
  - input: [[-100, 0, 100]]
    expected: [[-100, 0, 100]]
  - input: [[-50, -50, 100]]
    expected: [[-50, -50, 100]]
  - input: [[-2, 0, 0, 2, 2]]
    expected: [[-2, 0, 2]]
  - input: [[-3, -1, 0, 1, 2]]
    expected: [[-3, 1, 2], [-1, 0, 1]]
