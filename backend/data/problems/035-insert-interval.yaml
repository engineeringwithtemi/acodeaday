title: Insert Interval
sequence_number: 35
difficulty: medium
pattern:
  - intervals
  - arrays
  - sorting

description: |
  You are given an array of non-overlapping intervals `intervals` where `intervals[i] = [starti, endi]` represent the start and the end of the `ith` interval and `intervals` is sorted in ascending order by `starti`. You are also given an interval `newInterval = [start, end]` that represents the start and end of another interval.

  Insert `newInterval` into `intervals` such that `intervals` is still sorted in ascending order by `starti` and `intervals` still does not have any overlapping intervals (merge overlapping intervals if necessary).

  Return `intervals` after the insertion.

constraints:
  - "0 <= intervals.length <= 10^4"
  - "intervals[i].length == 2"
  - "0 <= starti <= endi <= 10^5"
  - "intervals is sorted by starti in ascending order."
  - "newInterval.length == 2"
  - "0 <= start <= end <= 10^5"

examples:
  - input: "intervals = [[1,3],[6,9]], newInterval = [2,5]"
    output: "[[1,5],[6,9]]"
  - input: "intervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]"
    output: "[[1,2],[3,10],[12,16]]"

languages:
  python:
    starter_code: |
      class Solution:
          def insert(self, intervals: List[List[int]], newInterval: List[int]) -> List[List[int]]:
              pass
    reference_solution: |
      class Solution:
          def insert(self, intervals: List[List[int]], newInterval: List[int]) -> List[List[int]]:
              result = []
              i = 0
              n = len(intervals)

              # Add all intervals that come before newInterval
              while i < n and intervals[i][1] < newInterval[0]:
                  result.append(intervals[i])
                  i += 1

              # Merge overlapping intervals
              while i < n and intervals[i][0] <= newInterval[1]:
                  newInterval[0] = min(newInterval[0], intervals[i][0])
                  newInterval[1] = max(newInterval[1], intervals[i][1])
                  i += 1

              result.append(newInterval)

              # Add remaining intervals
              while i < n:
                  result.append(intervals[i])
                  i += 1

              return result
    function_signature:
      name: insert
      params:
        - name: intervals
          type: "List[List[int]]"
        - name: newInterval
          type: "List[int]"
      return_type: "List[List[int]]"

test_cases:
  - input: [[[1, 3], [6, 9]], [2, 5]]
    expected: [[1, 5], [6, 9]]
  - input: [[[1, 2], [3, 5], [6, 7], [8, 10], [12, 16]], [4, 8]]
    expected: [[1, 2], [3, 10], [12, 16]]
  - input: [[], [5, 7]]
    expected: [[5, 7]]
  - input: [[[1, 5]], [2, 3]]
    expected: [[1, 5]]
  - input: [[[1, 5]], [6, 8]]
    expected: [[1, 5], [6, 8]]
  - input: [[[1, 5]], [0, 0]]
    expected: [[0, 0], [1, 5]]
  - input: [[[1, 5]], [0, 3]]
    expected: [[0, 5]]
  - input: [[[1, 5]], [0, 6]]
    expected: [[0, 6]]
  - input: [[[2, 5], [6, 7], [8, 9]], [0, 1]]
    expected: [[0, 1], [2, 5], [6, 7], [8, 9]]
  - input: [[[1, 2], [3, 5], [6, 7], [8, 10], [12, 16]], [0, 20]]
    expected: [[0, 20]]
  - input: [[[1, 3], [6, 9]], [0, 0]]
    expected: [[0, 0], [1, 3], [6, 9]]
  - input: [[[1, 3], [6, 9]], [10, 11]]
    expected: [[1, 3], [6, 9], [10, 11]]
  - input: [[[0, 5], [9, 12]], [7, 16]]
    expected: [[0, 5], [7, 16]]
  - input: [[[3, 5], [12, 15]], [6, 6]]
    expected: [[3, 5], [6, 6], [12, 15]]
  - input: [[[1, 5], [6, 8]], [5, 6]]
    expected: [[1, 8]]
  - input: [[[1, 5], [6, 8]], [0, 9]]
    expected: [[0, 9]]
  - input: [[[1, 5]], [2, 7]]
    expected: [[1, 7]]
  - input: [[[1, 2], [5, 6]], [3, 4]]
    expected: [[1, 2], [3, 4], [5, 6]]
  - input: [[[0, 2], [3, 9]], [6, 8]]
    expected: [[0, 2], [3, 9]]
  - input: [[[0, 0], [1, 2], [5, 5], [6, 7], [8, 8], [12, 16], [19, 19]], [4, 8]]
    expected: [[0, 0], [1, 2], [4, 8], [12, 16], [19, 19]]
