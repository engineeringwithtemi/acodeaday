title: Median of Two Sorted Arrays
sequence_number: 86
difficulty: hard
pattern:
  - binary-search
  - divide-and-conquer

description: |
  Given two sorted arrays `nums1` and `nums2` of size `m` and `n` respectively, return **the median** of the two sorted arrays.

  The overall run time complexity should be `O(log (m+n))`.

constraints:
  - "nums1.length == m"
  - "nums2.length == n"
  - "0 <= m <= 1000"
  - "0 <= n <= 1000"
  - "1 <= m + n <= 2000"
  - "-10^6 <= nums1[i], nums2[i] <= 10^6"

examples:
  - input: "nums1 = [1,3], nums2 = [2]"
    output: "2.00000"
    explanation: "merged array = [1,2,3] and median is 2."
  - input: "nums1 = [1,2], nums2 = [3,4]"
    output: "2.50000"
    explanation: "merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5."

languages:
  python:
    starter_code: |
      class Solution:
          def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
              pass
    reference_solution: |
      class Solution:
          def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
              # Ensure nums1 is smaller for efficiency
              if len(nums1) > len(nums2):
                  nums1, nums2 = nums2, nums1

              m, n = len(nums1), len(nums2)
              left, right = 0, m
              half = (m + n + 1) // 2

              while left <= right:
                  i = (left + right) // 2
                  j = half - i

                  left1 = nums1[i - 1] if i > 0 else float('-inf')
                  right1 = nums1[i] if i < m else float('inf')
                  left2 = nums2[j - 1] if j > 0 else float('-inf')
                  right2 = nums2[j] if j < n else float('inf')

                  if left1 <= right2 and left2 <= right1:
                      if (m + n) % 2 == 1:
                          return float(max(left1, left2))
                      return (max(left1, left2) + min(right1, right2)) / 2.0
                  elif left1 > right2:
                      right = i - 1
                  else:
                      left = i + 1

              return 0.0
    function_signature:
      name: findMedianSortedArrays
      params:
        - name: nums1
          type: "List[int]"
        - name: nums2
          type: "List[int]"
      return_type: float

test_cases:
  - input: [[1, 3], [2]]
    expected: 2.0
  - input: [[1, 2], [3, 4]]
    expected: 2.5
  - input: [[1], [2]]
    expected: 1.5
  - input: [[1, 2, 3], []]
    expected: 2.0
  - input: [[], [1, 2, 3]]
    expected: 2.0
  - input: [[1], []]
    expected: 1.0
  - input: [[], [1]]
    expected: 1.0
  - input: [[1, 2], [1, 2]]
    expected: 1.5
  - input: [[1, 3, 5], [2, 4, 6]]
    expected: 3.5
  - input: [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]]
    expected: 5.5
  - input: [[1], [2, 3, 4, 5, 6]]
    expected: 3.5
  - input: [[1, 2, 3, 4, 5, 6], [7]]
    expected: 4.0
  - input: [[-5, -3, -1], [1, 3, 5]]
    expected: 0.0
  - input: [[100], [200]]
    expected: 150.0
  - input: [[1, 1, 1], [1, 1, 1]]
    expected: 1.0
